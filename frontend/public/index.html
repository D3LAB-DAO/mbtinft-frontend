<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>💓칭구 MBTiNFT💓</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <!-- Header -->
    <div class="sticky-top">
      <div class="row" style="width:100%;">
        <!-- Nav -->
        <div class="col-md-10 col-sm-8 col-6" style="padding:0;">
          <nav class="navbar navbar-light bg-win95" style="padding-left:0;">
            <div class="container-fluid">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation" style="border: none; outline: none; box-shadow:none;">
                <a class="nes-btn h2"># MBTiNFT</a>
              </button>
            </div>
          </nav>
        </div>
        <div class="col-md-2 col-sm-4 col-6" style="padding:0;">
          <div style="margin: 13px 20px 4px 4px;">
            <a id="connectMetamaskButton" onclick="connectMetamask()" class="nes-btn h2" role="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="Connect to metamask" style="width:100%;">
              <span class="showMetamaskStatus btn-text">Connect</span>
            </a>
          </div>
        </div>
      </div>

      <!-- Menu -->
      <div class="collapse" id="navbarToggleExternalContent">
        <div class="list-group">
          <a onclick="movePage(0)" class="list-group-item list-group-item-action bg-win95" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false">
            <span> 📃 튜토리얼</span>
          </a>
          <a onclick="movePage(1)" class="list-group-item list-group-item-action bg-win95" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false">
            <span> 💓 칭구</span>
          </a>
          <a onclick="movePage(2)" class="list-group-item list-group-item-action bg-win95" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false">
            <span> 💬 대화</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Contents -->
    <!-- Start -->
    <div id="startPage" style="display:block; padding-bottom:20px;">
      <div class="nes-container bg-light with-title m-4">
        <p class="title" style="font-size:2rem;">📃 튜토리얼</p>
        <blockquote>MBTI + intelligence + NFT = MBTiNFT</blockquote>
        <p>
        <h4>💓MBTI를 가진 나만의 칭구NFT를 만들어보세요</h4>
        <h4>✏️데이터를 통해 칭구를 학습시켜보세요</h4>
        <h4>💬학습된 칭구와 대화해보세요</h4>
        </p>
        <center><button type="button" onclick="mintNFT()" class="nes-btn is-success" style="font-size:1.5rem; width:50%;">💌칭구만들기!</button></center>
      </div>
    </div>

    <!-- Training -->
    <div id="trainingPage" style="display:none; padding-bottom:20px;">
      <div class="nes-container bg-light with-title m-4">
        <p class="title" style="font-size:2rem;">💓 칭구</p>
        <blockquote># 내 칭구</blockquote>
        <div style="padding-bottom: 15px;">
          <img src="../src/enfp.png" style="width:100px; height:100px;">
          <div class="nes-balloon from-left">
            <p>안녕 난 enfp야</p>
          </div>
        </div>
        <blockquote># 학습 정도</blockquote>
        <p><h4>내 칭구가 이만큼 학습했어요.</h4></p>
        <i class="nes-icon is-large heart"></i>
        <i class="nes-icon is-large heart"></i>
        <i class="nes-icon is-large heart"></i>
        <i class="nes-icon is-large is-half heart"></i>
        <i class="nes-icon is-large is-transparent heart"></i>
        <blockquote># 성향</blockquote>
        <p><h4>내 칭구는 현재 ENFP 성향에 가까워요.</h4></p>
        <h5>• 외향형(E) / 내향형(I)</h5>
        <progress class="nes-progress is-primary" value="80" max="100" data-label="80%"></progress>
        <h5>• 직관형(N) / 감각형(S)</h5>
        <progress class="nes-progress is-success" value="70" max="100" data-label="70%"></progress>
        <h5>• 사고형(T) / 감정형(F)</h5>
        <progress class="nes-progress is-reverse is-reverse-warning" value="45" max="100" data-label="55%"></progress>
        <h5>• 판단형(J) / 인지형(P)</h5>
        <progress class="nes-progress is-reverse is-reverse-error" value="30" max="100" data-label="70%"></progress>
        <div style="padding-top:10px;">
          <center><button type="button" onclick="mintNFT()" class="nes-btn is-success" style="font-size:1.5rem; width:200px;">✏️학습하기!</button></center>
        </div>
      </div>
    </div>

    <!-- Chatting -->
    <div id="chattingPage" style="display:none; padding-bottom:20px;">
      <div class="nes-container bg-light with-title m-4">
        <p class="title" style="font-size:2rem;">💬 대화</p>
        <section class="message-list">
          <section class="message -left">
            <i><img src="../src/enfp.png" style="width:100px; height:100px;"></i>
            <!-- Balloon -->
            <div class="nes-balloon from-left chat-balloon">
              <p>안녕 난 enfp야</p>
            </div>
          </section>
        </section>
        
        <div style="padding-top: 30px;">
          <div><h6 id="message-status-text" style="color:gray; padding-left:10px;"></h6></div>
          <div class="input-group nes-field">
            <div class="col-sm-10 px-1">
              <input type="text" id="message_field" class="form-control nes-input" onKeypress="javascript:if(event.keyCode==13) {sendMessage()}" oninput="drawSpinner()">
            </div>
            <div class="col-sm-2" style="text-align:right;">
              <button type="button" class="btn nes-btn is-success" style="font-size:1.7rem; width:90%;" onclick="sendMessage()">전송</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="../js/contract.js"></script>
    <script src="../js/request.js"></script>
    <script src="../js/handler.js"></script>
    <script src="../js/function.js"></script>
  </body>
</html>